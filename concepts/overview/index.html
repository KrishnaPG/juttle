<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>Overview - Juttle Language Reference</title>
  

  <link rel="shortcut icon" href="../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  <link href="../../custom_theme/extra.css" rel="stylesheet">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Overview";
    var mkdocs_page_input_path = "concepts/overview.md";
    var mkdocs_page_url = "/concepts/overview/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Juttle Language Reference</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <ul class="subnav">
    <li><span>Introduction</span></li>

        
            
  
    <li class="toctree-l1 ">
        <a class="" href="../..">About</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  

        
            
  

        
            
  

        
            
  

        
            
  

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Concepts</span></li>

        
            
  
    <li class="toctree-l1 current">
        <a class="current" href="./">Overview</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  

        
            
  
    <li class="toctree-l1 ">
        <a class="" href="../dataflow/">Dataflow</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  

        
            
  
    <li class="toctree-l1 ">
        <a class="" href="../programming_constructs/">Programming Constructs</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  

        
            
  
    <li class="toctree-l1 ">
        <a class="" href="../fields/">Fields</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  

        
            
  
    <li class="toctree-l1 ">
        <a class="" href="../filtering/">Filtering</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  

        
            
  
    <li class="toctree-l1 ">
        <a class="" href="../inputs/">Inputs</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  

        
            
  
    <li class="toctree-l1 ">
        <a class="" href="../views/">Views</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  

        
            
  

        
            
  
    <li class="toctree-l1 ">
        <a class="" href="../juttle_tutorial/">Tutorial</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  

        
            
  

        
            
  

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Reference</span></li>

        
            
  
    <li class="toctree-l1 ">
        <a class="" href="../../sources/">Sources</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  

        
            
  

        
            
  

        
            
  
    <li class="toctree-l1 ">
        <a class="" href="../../processors/">Processors</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  
    <li class="toctree-l1 ">
        <a class="" href="../../sinks/">Sinks</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  
    <li class="toctree-l1 ">
        <a class="" href="../../adapters/">Adapters</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  
    <li class="toctree-l1 ">
        <a class="" href="../../adapters/parsers/">Parsers</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  

        
            
  

        
            
  
    <li class="toctree-l1 ">
        <a class="" href="../../reducers/">Reducers</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  
    <li class="toctree-l1 ">
        <a class="" href="../../modules/">Modules</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  

        
            
  
    <li class="toctree-l1 ">
        <a class="" href="../../reference/time/">Time</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  

        
            
  
    <li class="toctree-l1 ">
        <a class="" href="../../reference/data_types/">Data Types</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  

        
            
  
    <li class="toctree-l1 ">
        <a class="" href="../../reference/operators/">Operators</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  

        
            
  
    <li class="toctree-l1 ">
        <a class="" href="../../reference/conditionals/">Conditionals</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  

        
            
  
    <li class="toctree-l1 ">
        <a class="" href="../../reference/cli/">CLI</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  

        
            
  
    <li class="toctree-l1 ">
        <a class="" href="../../reference/style_guide/">Style Guide</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Juttle Language Reference</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Concepts &raquo;</li>
        
      
    
    <li>Overview</li>
    <li class="wy-breadcrumbs-aside">
      
        
          
            <a href="https://github.com/juttle/juttle/blob/master/docs/concepts/overview.md" class="icon icon-github"> Edit on GitHub</a>
          
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="juttle-overview">Juttle Overview</h1>
<p>This section walks through a few simple Juttle examples to demonstrate a bit of the language and how it works.</p>
<p>To begin with, here is the canonical hello world example in juttle:</p>
<pre><code class="juttle">emit | put message = &quot;Hello World!&quot; | view table
</code></pre>

<p>Which outputs:</p>
<pre><code>┌────────────────────────────────────┬──────────────────┐
│ time                               │ message          │
├────────────────────────────────────┼──────────────────┤
│ 2015-12-12T00:24:46.222Z           │ Hello World!     │
└────────────────────────────────────┴──────────────────┘
</code></pre>

<p>This example is the simplest possible Juttle flowgraph with the form:</p>
<pre><code>source | processor | sink
</code></pre>

<p>In Juttle, <em>the basic unit of data is a point</em>. A point consists of a number of key/value pairs, where the keys are strings and the values are numbers, strings, times, booleans, etc. Points flow through flowgraphs and can be transformed, aggregated, or joined at each processing step.</p>
<p>In the simple example above, the following steps occurred:</p>
<ol>
<li>
<p>The source <a href="../../sources/emit/">emit</a>, generates a single synthetic point with a timestamp of the current time.</p>
</li>
<li>
<p>The point is fed into the processor <a href="../../processors/put/">put</a>, which adds a field called message.</p>
</li>
<li>
<p>The point is then sent to a <code>table</code> <a href="../views/">view</a> which renders the result as the given table. Note that the specific views are actually not part of the Juttle language -- they are passed through to the calling environment, either the Juttle CLI (shown above) or an application environment like <a href="https://github.com/juttle/outrigger">outrigger</a>.</p>
</li>
</ol>
<hr />
<p>Let's make this example a bit more interesting:</p>
<pre><code class="juttle">emit -from :2015-01-01: -to :2015-02-01: -every :1 day:
| reduce days = count()
| view table -title 'Days in January'
</code></pre>

<p>Results in:</p>
<pre><code>Days in January
┌──────────┐
│ days     │
├──────────┤
│ 31       │
└──────────┘
</code></pre>

<p>Here we add a few more concepts. First, the <code>emit</code> source is configured with time options that will generate a data point for each day of January 2015. Each point is sent to the <code>reduce</code> processor using the <code>count</code> reducer that produces an aggregate sum of the number of points, and then emits a single value that shows the number of days in the month. Finally the <code>table</code> view is parameterized to include a title before displaying the results.</p>
<hr />
<p>Juttle also supports basic programming language constructs like constants and functions:</p>
<pre><code class="juttle">const days = [ 'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat' ];

function getDay(i) {
    const offset = 3; // January 1, 2015 was a Thursday
    return days[(i + offset) % Array.length(days)];
}

emit -from :2015-01-01: -to :2015-02-01: -every :1 day:
| put i = count()
| put day = getDay(i)
| reduce count() by day
</code></pre>

<p>Results in:</p>
<pre><code>┌──────────┬──────────┐
│ count    │ day      │
├──────────┼──────────┤
│ 5        │ Thu      │
├──────────┼──────────┤
│ 5        │ Fri      │
├──────────┼──────────┤
│ 5        │ Sat      │
├──────────┼──────────┤
│ 4        │ Sun      │
├──────────┼──────────┤
│ 4        │ Mon      │
├──────────┼──────────┤
│ 4        │ Tue      │
├──────────┼──────────┤
│ 4        │ Wed      │
└──────────┴──────────┘
</code></pre>

<p>In this case we've defined a constant array listing the days of the week, and a function called <code>getDay</code> that returns the weekday corresponding to the the given day of the month. Then we use the <code>day</code> field as a grouping field for reduce, and thereby count the number of occurrences of the given day of the week for the month of January. The result is implicitly put into a field named <code>count</code>, matching the name of the reducer that we used, and even though there is no explicit sink in the program, the runtime added an implicit <code>view table</code> to show the results in a table.</p>
<hr />
<p>Finally, Juttle's dataflow model allows for more complicated flowgraphs than simple pipelines, and various operations can divide time into intervals and operate on batches of points within that interval instead of treating the full stream in its entirety:</p>
<pre><code class="juttle">const fruits = [ 'apple', 'orange', 'banana' ];

emit -from :2015-01-01: -to :2015-02-02: -every :1d:
| put fruit = fruits[Math.floor(Math.random() * Array.length(fruits))]
| (
    reduce total = count() by fruit
    | view table -title 'Fruit popularity';

    batch :7 days:
    | reduce count() by fruit
    | sort count -desc
    | head 1
    | put week = (time - :2015-01-01:) / :7d:
    | keep week, fruit
    | view table -title 'Most popular fruit of the week';

  )
</code></pre>

<p>Results in something like the following:</p>
<pre><code>Most popular fruit of the week
┌──────────┬──────────┐
│ fruit    │ week     │
├──────────┼──────────┤
│ orange   │ 1        │
├──────────┼──────────┤
│ orange   │ 2        │
├──────────┼──────────┤
│ banana   │ 3        │
├──────────┼──────────┤
│ orange   │ 4        │
├──────────┼──────────┤
│ banana   │ 5        │
└──────────┴──────────┘
Fruit popularity
┌──────────┬──────────┐
│ fruit    │ total    │
├──────────┼──────────┤
│ apple    │ 8        │
├──────────┼──────────┤
│ orange   │ 13       │
├──────────┼──────────┤
│ banana   │ 11       │
└──────────┴──────────┘
</code></pre>

<p>This example pulls together several additional concepts of Juttle.</p>
<p>First, the source emits a point for every day of the week and adds a field with a random name of a fruit. Then the flowgraph is forked using the <code>a | (b ; c)</code> syntax, which sends all points coming out of <code>a</code> to both <code>b</code> and <code>c</code>.</p>
<p>The first branch performs a simple count of the number of times each fruit was picked and sorts the output before sending to a table view.</p>
<p>The second branch creates a time window of 7 days, and for each batch, counts the number of occurrences of each fruit within the given batch, uses <code>sort</code> to rank by the count, uses <code>head</code> to pick first point, uses a <code>put</code> statement to add the week number within the month, <code>keep</code> to remove all fields but the week number and the fruit, and finally outputs a table which prints which was most popular fruit for the given week.</p>
<h1 id="dig-deeper">Dig Deeper</h1>
<p>See the in-depth <a href="../juttle_tutorial/">Tutorial</a> to learn more about the juttle language and explore a richer data set.</p>
<p>You can also learn more about the conceptual underpinnings of the <a href="../dataflow/">Juttle dataflow language</a> including how to work with time and batching, and how to string together, merge, split, and join flowgraphs for data processing.</p>
<p>The language supports various <a href="../programming_constructs/">programming constructs</a> such as variables, constants, functions, subgraphs, and modules to compose flowgraphs with less repetition and more clarity.</p>
<p>Juttle can interact with storage systems and other external data sources using <a href="../../adapters/">adapters</a>, some of which are both built into the distribution while others can be installed as external plugins.</p>
<p>Finally, the language contains the declarative framework for specifying client-side <a href="../views/">views</a> to control data visualization. The Juttle CLI includes simple terminal-based outputs for viewing data as a table or in raw encoding formats, but Juttle can also be used in conjunction with a visualization library like <a href="https://github.com/juttle/juttle-viz">juttle-viz</a> for other charting.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../dataflow/" class="btn btn-neutral float-right" title="Dataflow"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../../examples/datasets/README/" class="btn btn-neutral" title="____ Sample Datasets"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/juttle/juttle" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../../examples/datasets/README/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../dataflow/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
